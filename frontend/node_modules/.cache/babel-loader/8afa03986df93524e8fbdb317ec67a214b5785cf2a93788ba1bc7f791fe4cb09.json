{"ast":null,"code":"var _jsxFileName = \"/Users/josephjuarez/Documents/Dev/jja/notifications-code-challenge/gila-front/src/components/kpi-cards/KpiCards.tsx\";\nimport React, { Component } from \"react\";\nimport \"./kpi-cards.scss\";\nimport axios from \"axios\";\nimport Widget from \"../widget/Widget\";\nimport { inject } from \"inversify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nclass KpiCards extends Component {\n  constructor(props, @inject\n  repo) {\n    super(props);\n    this.fetchKpis = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:8080/api/kpis\");\n        this.setState({\n          kpis: response.data\n        });\n      } catch (error) {\n        console.error(\"Error fetching KPIs:\", error);\n      }\n    };\n    this.state = {\n      kpis: null\n    };\n  }\n  componentDidMount() {\n    this.fetchKpis();\n  }\n  render() {\n    const {\n      kpis\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"kpiCardsContainer\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"widgets\",\n        children: [kpis !== null ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [kpis.users !== null && /*#__PURE__*/_jsxDEV(Widget, {\n            type: kpis.users.title,\n            quantity: kpis.users.quantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 19\n          }, this), kpis.smsNotifications !== null && /*#__PURE__*/_jsxDEV(Widget, {\n            type: kpis.smsNotifications.title,\n            quantity: kpis.smsNotifications.quantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 19\n          }, this), kpis.emailNotifications !== null && /*#__PURE__*/_jsxDEV(Widget, {\n            type: kpis.emailNotifications.title,\n            quantity: kpis.emailNotifications.quantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 19\n          }, this), kpis.pushNotifications !== null && /*#__PURE__*/_jsxDEV(Widget, {\n            type: kpis.pushNotifications.title,\n            quantity: kpis.pushNotifications.quantity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading KPIs...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }, this), kpis !== null && Object.values(kpis).every(val => val === null) && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No notifications sent yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this);\n  }\n}\nexport default KpiCards;","map":{"version":3,"names":["React","Component","axios","Widget","inject","jsxDEV","_jsxDEV","Fragment","_Fragment","KpiCards","constructor","props","repo","fetchKpis","response","get","setState","kpis","data","error","console","state","componentDidMount","render","className","children","users","type","title","quantity","fileName","_jsxFileName","lineNumber","columnNumber","smsNotifications","emailNotifications","pushNotifications","Object","values","every","val"],"sources":["/Users/josephjuarez/Documents/Dev/jja/notifications-code-challenge/gila-front/src/components/kpi-cards/KpiCards.tsx"],"sourcesContent":["import React, { Component } from \"react\";\nimport \"./kpi-cards.scss\"\n\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Widget from \"../widget/Widget\";\nimport KpiData from \"../../types/kpis/KpiData\";\nimport { inject } from \"inversify\";\nimport KpiRepository from \"../../repositories/Kpis/KpisRepository\";\n\nclass KpiCards extends Component {\n    constructor(props: {} | Readonly<{}>, @inject repo:KpiRepository) {\n      super(props);\n      this.state = {\n        kpis: null,\n      };\n    }\n  \n    componentDidMount() {\n      this.fetchKpis();\n    }\n  \n    fetchKpis = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:8080/api/kpis\");\n        this.setState({ kpis: response.data });\n      } catch (error) {\n        console.error(\"Error fetching KPIs:\", error);\n      }\n    };\n  \n    render() {\n      const { kpis } = this.state;\n  \n      return (\n        <div className=\"kpiCardsContainer\">\n          <div className=\"widgets\">\n            {kpis !== null ? (\n              <>\n                {kpis.users !== null && (\n                  <Widget type={kpis.users.title} quantity={kpis.users.quantity} />\n                )}\n                {kpis.smsNotifications !== null && (\n                  <Widget\n                    type={kpis.smsNotifications.title}\n                    quantity={kpis.smsNotifications.quantity}\n                  />\n                )}\n                {kpis.emailNotifications !== null && (\n                  <Widget\n                    type={kpis.emailNotifications.title}\n                    quantity={kpis.emailNotifications.quantity}\n                  />\n                )}\n                {kpis.pushNotifications !== null && (\n                  <Widget\n                    type={kpis.pushNotifications.title}\n                    quantity={kpis.pushNotifications.quantity}\n                  />\n                )}\n              </>\n            ) : (\n              <p>Loading KPIs...</p>\n            )}\n            {kpis !== null &&\n              Object.values(kpis).every((val) => val === null) && (\n                <p>No notifications sent yet.</p>\n              )}\n          </div>\n        </div>\n      );\n    }\n  }\n  \n  export default KpiCards;\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}