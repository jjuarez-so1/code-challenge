{"ast":null,"code":"import { BindingOnSyntax } from \"./binding_on_syntax\";\nimport { namedConstraint, taggedConstraint, traverseAncerstors, typeConstraint } from \"./constraint_helpers\";\nvar BindingWhenSyntax = function () {\n  function BindingWhenSyntax(binding) {\n    this._binding = binding;\n  }\n  BindingWhenSyntax.prototype.when = function (constraint) {\n    this._binding.constraint = constraint;\n    return new BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenTargetNamed = function (name) {\n    this._binding.constraint = namedConstraint(name);\n    return new BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenTargetIsDefault = function () {\n    this._binding.constraint = function (request) {\n      if (request === null) {\n        return false;\n      }\n      var targetIsDefault = request.target !== null && !request.target.isNamed() && !request.target.isTagged();\n      return targetIsDefault;\n    };\n    return new BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenTargetTagged = function (tag, value) {\n    this._binding.constraint = taggedConstraint(tag)(value);\n    return new BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenInjectedInto = function (parent) {\n    this._binding.constraint = function (request) {\n      return request !== null && typeConstraint(parent)(request.parentRequest);\n    };\n    return new BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenParentNamed = function (name) {\n    this._binding.constraint = function (request) {\n      return request !== null && namedConstraint(name)(request.parentRequest);\n    };\n    return new BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenParentTagged = function (tag, value) {\n    this._binding.constraint = function (request) {\n      return request !== null && taggedConstraint(tag)(value)(request.parentRequest);\n    };\n    return new BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenAnyAncestorIs = function (ancestor) {\n    this._binding.constraint = function (request) {\n      return request !== null && traverseAncerstors(request, typeConstraint(ancestor));\n    };\n    return new BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenNoAncestorIs = function (ancestor) {\n    this._binding.constraint = function (request) {\n      return request !== null && !traverseAncerstors(request, typeConstraint(ancestor));\n    };\n    return new BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenAnyAncestorNamed = function (name) {\n    this._binding.constraint = function (request) {\n      return request !== null && traverseAncerstors(request, namedConstraint(name));\n    };\n    return new BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenNoAncestorNamed = function (name) {\n    this._binding.constraint = function (request) {\n      return request !== null && !traverseAncerstors(request, namedConstraint(name));\n    };\n    return new BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenAnyAncestorTagged = function (tag, value) {\n    this._binding.constraint = function (request) {\n      return request !== null && traverseAncerstors(request, taggedConstraint(tag)(value));\n    };\n    return new BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenNoAncestorTagged = function (tag, value) {\n    this._binding.constraint = function (request) {\n      return request !== null && !traverseAncerstors(request, taggedConstraint(tag)(value));\n    };\n    return new BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenAnyAncestorMatches = function (constraint) {\n    this._binding.constraint = function (request) {\n      return request !== null && traverseAncerstors(request, constraint);\n    };\n    return new BindingOnSyntax(this._binding);\n  };\n  BindingWhenSyntax.prototype.whenNoAncestorMatches = function (constraint) {\n    this._binding.constraint = function (request) {\n      return request !== null && !traverseAncerstors(request, constraint);\n    };\n    return new BindingOnSyntax(this._binding);\n  };\n  return BindingWhenSyntax;\n}();\nexport { BindingWhenSyntax };","map":{"version":3,"names":["BindingOnSyntax","namedConstraint","taggedConstraint","traverseAncerstors","typeConstraint","BindingWhenSyntax","binding","_binding","prototype","when","constraint","whenTargetNamed","name","whenTargetIsDefault","request","targetIsDefault","target","isNamed","isTagged","whenTargetTagged","tag","value","whenInjectedInto","parent","parentRequest","whenParentNamed","whenParentTagged","whenAnyAncestorIs","ancestor","whenNoAncestorIs","whenAnyAncestorNamed","whenNoAncestorNamed","whenAnyAncestorTagged","whenNoAncestorTagged","whenAnyAncestorMatches","whenNoAncestorMatches"],"sources":["../../src/syntax/binding_when_syntax.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}