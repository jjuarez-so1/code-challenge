{"ast":null,"code":"import { getServiceIdentifierAsString } from \"../inversify\";\nimport * as ERROR_MSGS from \"../constants/error_msgs\";\nimport { BindingTypeEnum } from \"../constants/literal_types\";\nimport { FactoryType } from \"./factory_type\";\nexport var multiBindToService = function (container) {\n  return function (service) {\n    return function () {\n      var types = [];\n      for (var _i = 0; _i < arguments.length; _i++) {\n        types[_i] = arguments[_i];\n      }\n      return types.forEach(function (t) {\n        return container.bind(t).toService(service);\n      });\n    };\n  };\n};\nexport var ensureFullyBound = function (binding) {\n  var boundValue = null;\n  switch (binding.type) {\n    case BindingTypeEnum.ConstantValue:\n    case BindingTypeEnum.Function:\n      boundValue = binding.cache;\n      break;\n    case BindingTypeEnum.Constructor:\n    case BindingTypeEnum.Instance:\n      boundValue = binding.implementationType;\n      break;\n    case BindingTypeEnum.DynamicValue:\n      boundValue = binding.dynamicValue;\n      break;\n    case BindingTypeEnum.Provider:\n      boundValue = binding.provider;\n      break;\n    case BindingTypeEnum.Factory:\n      boundValue = binding.factory;\n      break;\n  }\n  if (boundValue === null) {\n    var serviceIdentifierAsString = getServiceIdentifierAsString(binding.serviceIdentifier);\n    throw new Error(ERROR_MSGS.INVALID_BINDING_TYPE + \" \" + serviceIdentifierAsString);\n  }\n};\nexport var getFactoryDetails = function (binding) {\n  switch (binding.type) {\n    case BindingTypeEnum.Factory:\n      return {\n        factory: binding.factory,\n        factoryType: FactoryType.Factory\n      };\n    case BindingTypeEnum.Provider:\n      return {\n        factory: binding.provider,\n        factoryType: FactoryType.Provider\n      };\n    case BindingTypeEnum.DynamicValue:\n      return {\n        factory: binding.dynamicValue,\n        factoryType: FactoryType.DynamicValue\n      };\n    default:\n      throw new Error(\"Unexpected factory type \" + binding.type);\n  }\n};","map":{"version":3,"names":["getServiceIdentifierAsString","ERROR_MSGS","BindingTypeEnum","FactoryType","multiBindToService","container","service","types","_i","arguments","length","forEach","t","bind","toService","ensureFullyBound","binding","boundValue","type","ConstantValue","Function","cache","Constructor","Instance","implementationType","DynamicValue","dynamicValue","Provider","provider","Factory","factory","serviceIdentifierAsString","serviceIdentifier","Error","INVALID_BINDING_TYPE","getFactoryDetails","factoryType"],"sources":["../../src/utils/binding_utils.ts"],"sourcesContent":[null],"mappings":"AAAA,SAASA,4BAA4B,QAAoB,cAAc;AACvE,OAAO,KAAKC,UAAU,MAAM,yBAAyB;AACrD,SAASC,eAAe,QAAQ,4BAA4B;AAC5D,SAASC,WAAW,QAAQ,gBAAgB;AAE5C,OAAO,IAAMC,kBAAkB,GAAG,SAAAA,CAACC,SAA+B;EAChE,iBAACC,OAAqC;IACpC;MAAC,IAAAC,KAAA;WAAA,IAAAC,EAAA,IAAwC,EAAxCA,EAAA,GAAAC,SAAA,CAAAC,MAAwC,EAAxCF,EAAA,EAAwC;QAAxCD,KAAA,CAAAC,EAAA,IAAAC,SAAA,CAAAD,EAAA;;MACC,OAAAD,KAAK,CAACI,OAAO,CAAC,UAACC,CAAC;QAAK,OAAAP,SAAS,CAACQ,IAAI,CAACD,CAAC,CAAC,CAACE,SAAS,CAACR,OAAO,CAAC;MAApC,CAAoC,CAAC;IAA1D,CAA0D;EAD5D,CAC4D;AAF9D,CAE8D;AAEhE,OAAO,IAAMS,gBAAgB,GAAG,SAAAA,CAAcC,OAA8B;EAC1E,IAAIC,UAAU,GAAY,IAAI;EAE9B,QAAQD,OAAO,CAACE,IAAI;IAClB,KAAKhB,eAAe,CAACiB,aAAa;IAClC,KAAKjB,eAAe,CAACkB,QAAQ;MAC3BH,UAAU,GAAGD,OAAO,CAACK,KAAK;MAC1B;IACF,KAAKnB,eAAe,CAACoB,WAAW;IAChC,KAAKpB,eAAe,CAACqB,QAAQ;MAC3BN,UAAU,GAAGD,OAAO,CAACQ,kBAAkB;MACvC;IACF,KAAKtB,eAAe,CAACuB,YAAY;MAC/BR,UAAU,GAAGD,OAAO,CAACU,YAAY;MACjC;IACF,KAAKxB,eAAe,CAACyB,QAAQ;MAC3BV,UAAU,GAAGD,OAAO,CAACY,QAAQ;MAC7B;IACF,KAAK1B,eAAe,CAAC2B,OAAO;MAC1BZ,UAAU,GAAGD,OAAO,CAACc,OAAO;MAC5B;;EAEJ,IAAIb,UAAU,KAAK,IAAI,EAAE;IAGvB,IAAMc,yBAAyB,GAAG/B,4BAA4B,CAACgB,OAAO,CAACgB,iBAAiB,CAAC;IACzF,MAAM,IAAIC,KAAK,CAAIhC,UAAU,CAACiC,oBAAoB,SAAIH,yBAA2B,CAAC;;AAEtF,CAAC;AAED,OAAO,IAAMI,iBAAiB,GAAG,SAAAA,CAAcnB,OAA8B;EAC3E,QAAQA,OAAO,CAACE,IAAI;IAClB,KAAKhB,eAAe,CAAC2B,OAAO;MAC1B,OAAO;QAAEC,OAAO,EAAEd,OAAO,CAACc,OAAO;QAAEM,WAAW,EAAEjC,WAAW,CAAC0B;MAAO,CAAE;IACvE,KAAK3B,eAAe,CAACyB,QAAQ;MAC3B,OAAO;QAAEG,OAAO,EAAEd,OAAO,CAACY,QAAQ;QAAEQ,WAAW,EAAEjC,WAAW,CAACwB;MAAQ,CAAE;IACzE,KAAKzB,eAAe,CAACuB,YAAY;MAC/B,OAAO;QAAEK,OAAO,EAAEd,OAAO,CAACU,YAAY;QAAEU,WAAW,EAAEjC,WAAW,CAACsB;MAAY,CAAE;IACjF;MACE,MAAM,IAAIQ,KAAK,CAAC,6BAA2BjB,OAAO,CAACE,IAAM,CAAC;;AAEhE,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}